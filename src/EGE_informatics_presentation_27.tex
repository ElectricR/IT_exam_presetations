\documentclass{beamer}

\usepackage{minted}

\usepackage[russian]{babel}

\usepackage{fontspec}
\defaultfontfeatures{Ligatures=TeX}
\setmainfont{OpenSans}
\setsansfont{OpenSans}
\setmonofont{FreeSerif}

\usetheme{Copenhagen}
\usecolortheme{beaver}

\title[Задание 27]{ЕГЭ по Информатике 2021}
\subtitle{Задание 27}
\author{Роман Чулков}
\institute{СПбГУТ}

\begin{document}

\frame{\titlepage}

\begin{frame}

    \frametitle{Условие задачи}

    По каналу связи передавались данные в виде последовательности положительных целых чисел. Количество чисел заранее неизвестно, но не менее двух, признаком конца данных считается число 0. Контрольное значение равно такому максимально возможному произведению двух чисел из переданного набора, которое делится на 7, но не делится на 49. Если такое произведение получить нельзя, контрольное значение считается равным 1.

    Программа должна напечатать одно число — вычисленное контрольное значение, соответствующую условиям задачи.

\end{frame}

\begin{frame}

    \frametitle{Пример}

    Даны два входных файла (файл A и файл B), каждый из которых содержит количество чисел N (1 ≤ N ≤ 100000). В каждой из N строк записано одно натуральное число, не превышающее 1000.

    \pause

    \begin{block}{Пример входных данных}

        6

        7

        8

        9

        0
        
    \end{block}

    \pause

    \begin{alertblock}{Ответ}

        63

    \end{alertblock}

\end{frame}

\begin{frame}

    \frametitle{Подготовка к решению}

    {\footnotesize

    \begin{block}{Замечание 1}

        Если итоговое произведение получить можно, то оно будет получаться из пары чисел, одно из которых делится на 7, но не делится на 49, а второе не делится на 7.

    \end{block}

    \pause

    \begin{block}{Замечание 2}

        Разделим все числа на 2 группы - делящиеся на 7, но не делящиеся на 49, и не делящиеся на 7 (делящиеся на 49 не будем учитывать). Тогда итоговое произведение будет являться произведением двух максимальных чисел в каждой группе.

    \end{block}

    \pause

    \begin{alertblock}{Доказательство замечания 2}

        Предположим, что это не так, и максимальное произведение $S_0$ равно произведению каких-то других двух чисел. Тогда для хотя бы одного числа из пары будет существовать число большее данного и относящееся к той же группе. Тогда заменим это число в паре на число, большее данного. Получим произведение $S_1 > S_0$, что противоречит нашему предположению.

    \end{alertblock}

    }

\end{frame}

\begin{frame}

    \frametitle{Алгоритм}

    Для каждого входного файла проделаем следующий алгоритм:

    \begin{enumerate}

        \item Инициализируем максимальное число, делящееся на 7, но не делящееся на 49, и максимальное число, не делящееся на 7, нулями.

        \item Считаем следующее число из файла.

        \item Если число равно 0, закончим обработку файла. Если максимальные значения в каждой группе не нулевые, выведем их произведение, иначе выведем 1.

        \item На основании считанного числа, обновим максимальное число в группе, в которую это число попадает.

        \item Перейдем на шаг 2.

    \end{enumerate}

\end{frame}

\begin{frame}

    \frametitle{Реализация алгоритма}

    Напишем реализацию алгоритма на языке Python.

    \inputminted[frame=single, fontsize=\footnotesize]{python}{src/task_27/solution.py}

\end{frame}

\end{document}

